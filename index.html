<!DOCTYPE html>
<html>

<head>
    <script src="nnindex.js"></script>
</head>

<body>
    <script id="template" type="text/squirrelly">
        <h1>{{title}}</h1>
        <p>{{language}}</p>
        <p>{{whassup}}
        {{If("Hi", whassup, 3, 5, 3) 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
        {{If("Hi") 1}}
        Hi
        {{/If 1}}
    </script>
    <script>
        Sqrl.Helper("If", function (args, content, blocks, options) {
            /*var ifResult = Function("var options = " + JSON.stringify(options) + ";if(" + args[0] +
                "){return true}else{return false}")
            console.log("ifResult: " + ifResult)
            ifResult = ifResult()
            if (ifResult) {
                return content
            } else {
                return blocks.selse
            }*/
            return "IF called!!!!"
        })
        var source = document.getElementById("template").innerHTML
        console.time("compiling")
        var template = Sqrl.Precompile(source)
        //console.log(template.toString())
        /*var result = template({
            title: "MyTitle",
            language: "English",
            whassup: "Hey"
        })*/
        //var nresult = template({title: "NewTitle", language: "Espanol"})
        console.log(template)
        console.timeEnd("compiling")
        console.log("Result: " + result)
        //console.log("New Result: " + nresult)
        function comp() {
            console.time("comp")
            let template = Sqrl.Precompile(source)
            /*let result = template({
                title: "MyTitle",
                language: "English",
                whassup: "Hey"
            })*/
            console.timeEnd("comp")
            console.log("Compiled")
        }
    </script>
    <button onclick="comp()">Compile</button>

</body>

</html>