(function(h,c){"function"===typeof define&&define.amd?define([],function(){return h.Sqrl=c()}):"object"===typeof module&&module.exports?module.exports=c(require("fs")):h.Sqrl=c()})("undefined"!==typeof self?self:this,function(h){var c={Utils:{},Compiler:{},Helpers:{},Partials:{},Layouts:{},Helper:function(a,d){c.Helpers[a]=d},Str:function(a){return"string"===typeof a?a:"object"===typeof a?JSON.stringify(a):a.toString()},Render:function(a,d){return a(d,c)},defaultFilters:{e:!1},autoEscape:function(a){c.defaultFilters.e=
a?!0:!1},Filters:{d:function(a){return a},e:function(a){return String(a).replace("\x26","\x26amp;").replace("\x3c","\x26lt;").replace("\x3e","\x26gt;").replace('"',"\x26quot;").replace("'","\x26#39;").replace("/","\x26#x2F;").replace("`","\x26#x60;").replace("\x3d","\x26#x3D;")},reverse:function(a){for(var c="",e=a.length-1;0<=e;e--)c+=a.charAt(e);return c||a}}};c.Filters.escape=c.Filters.e;c.Compiler.RegExps={helperRef:/{{\s*@(?:([\w$]*):)?\s*(.+?)\s*}}/g,globalRef:/{{\s*?([^#@.\(\\/]+?(?:[.[].*?)*?)((?:\|[\w$]+?)*)}}/g,
helper:/{{ *?([\w$]+) *?\(([^\n]*)\) *?([\w$]*) *?}}([^]*?)((?:{{ *?# *?[\w$]* *?}}[^]*)*){{ *?\/ *?\1 *? \3 *?}}/g,helperBlock:/{{ *?# *?(\w*) *?}}([^]*){{ *?\/ *?\1 *?}}(?:\s*{{!--[\w$\s]*--}}\s*)*/g,comment:/{{!--[^]*?--}}/g,parameterGlobalRef:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\d(?:\.)?\d*|[[.@]\w+|(\w+)/g,parameterHelperRef:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[\\]@(?:[\w$]*:)?[\w$]+|@(?:([\w$]*):)?([\w$]+)/g,trim:/^ +| +$/gm};c.Compiler.SetTags=function(a,c){};c.Precompile=function(a){function d(a){for(var b=
0;null!==(m=f.globalRef.exec(a));){var k=m[1],d=m[2];m.index>b&&e(a.slice(b,m.index));if(""!==k){b="Sqrl.F.d(options."+k+')||""';for(key in c.defaultFilters)!0===c.defaultFilters[key]&&(b="Sqrl.F."+key+"("+b+")");if("undefined"!==typeof d&&null!==d){d=d.split("|");for(k=1;k<d.length;k++)b="Sqrl.F."+d[k]+"("+b+")";g+="tmpltRes+\x3d"+b+";"}else g+=b}b=f.globalRef.lastIndex}a.length>b&&e(a.slice(b,a.length))}function e(a){for(var b=0;null!==(m=f.helperRef.exec(a));){var c=m[2];m.index>b&&(b=a.slice(b,
m.index),""!==b&&(g+='tmpltRes+\x3d"'+b+'";'));void 0!==m[1]&&m[1]?(b=m[1],g+="tmpltRes+\x3dSqrl.hvals.c."+b+"."+c+";"):g+="tmpltRes+\x3dSqrl.hvals.c."+c+";";b=f.helperRef.lastIndex}a.length>b&&(b=a.slice(b,a.length),""!==b&&(g+='tmpltRes+\x3d"'+b+'";'))}var g='"use strict";var tmpltRes\x3d"";Sqrl.F\x3dSqrl.Filters;',f=c.Compiler.RegExps;(function(a){a=a.replace(f.comment,"");for(var b=0;null!==(m=f.helper.exec(a));)d(a.slice(b,m.index)),b=f.helper.lastIndex;a.length>b&&d(a.slice(b,a.length))})(a);
return new Function("options","Sqrl",g.replace(/\n/g,"\\n").replace(/\r/g,"\\r")+"return tmpltRes;")};"undefined"!==typeof h&&null!==h&&(c.__express=function(a,d,e){h.readFile(a,function(a,f){if(a)return e(a);a=c.Compile(f.toString())(d);return e(null,a)})});return c});