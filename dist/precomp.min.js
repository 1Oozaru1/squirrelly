(function(e,b){"function"===typeof define&&define.amd?define([],function(){return e.Sqrl=b()}):"object"===typeof module&&module.exports?module.exports=b(require("fs")):e.Sqrl=b()})("undefined"!==typeof self?self:this,function(e){var b={Utils:{},Compiler:{},Helpers:{},Partials:{},Layouts:{},Helper:function(a,c){b.Helpers[a]=c}};b.Utils.EscMap={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;","`":"\x26#x60;","\x3d":"\x26#x3D;"};b.Compiler.RegExps={helperRef:/{{\s*@((?:\.\.\/)*)\s*(.+?)\s*}}/g,
globalRef:/{{\s*?([^#@.\(\\/]+?(?:[.[].*?)*?)}}/g,helper:/{{ *?([\w$]+) *?\(([^\n]*)\) *?(\w*) *?}}([^]*?)(?:{{ *?# *?\w* *?}}[^]*)*{{ *?\/ *?\1 *? \3 *?}}/g,helperBlock:/{{ *?# *?(\w*) *?}}([^]*){{ *?\/ *?\1 *?}}(?:\s*{{!--[\w$\s]*--}}\s*)*/g,comment:/{{!--\w*--}}/g,parameterGlobalRef:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\d(?:\.)?\d*|[[.@]\w+|(\w+)/g,parameterHelperRef:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[\\]@(?:\.\.\/)*\w+|@(\.\.\/)*(\w+)/g};b.Compiler.SetTags=function(a,b){};b.Utils.EscapeHTML=
function(a){return String(a).replace(/[&<>"'`=\/]/g,function(a){return escMap[a]})};b.Precompile=function(a){for(var c=b.Compiler.RegExps,f=[],d=0;null!==(match=c.helper.exec(a));)match.index>d&&f.push({kind:"nonhelper",fullmatch:a.slice(d,match.index)}),f.push({kind:"helper",fullmatch:a.slice(match.index,c.helper.lastIndex),helpername:match[1],helperparams:"["+(match[2]||"").replace(c.parameterGlobalRef,function(a,b){return void 0!==b&&b?"options."+b:a}).replace(c.parameterHelperRef,function(a,b,
d){void 0!==b&&b||(b="");return void 0!==d&&d?"helperscopes[helperscopes.length -1 -"+b.length/3+"]."+d:a})+"]",helperid:match[3],helpercontent:match[4]}),d=c.helper.lastIndex;a.length>d&&f.push({kind:"nonhelper",fullmatch:a.slice(d,a.length)});for(a=0;a<f.length;++a);return f};"undefined"!==typeof e&&null!==e&&(b.__express=function(a,c,f){e.readFile(a,function(a,e){if(a)return f(a);a=b.Compile(e.toString())(c);return f(null,a)})});return b});