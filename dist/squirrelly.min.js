!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Sqrl=n():e.Sqrl=n()}("undefined"!=typeof self?self:this,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){"use strict";r.r(n);var t={};r.r(t),r.d(t,"__express",function(){return F}),r.d(t,"H",function(){return b}),r.d(t,"Compile",function(){return m}),r.d(t,"defineFilter",function(){return w}),r.d(t,"defineHelper",function(){return S}),r.d(t,"defineNativeHelper",function(){return O}),r.d(t,"definePartial",function(){return P}),r.d(t,"Render",function(){return _}),r.d(t,"F",function(){return i}),r.d(t,"setDefaultFilters",function(){return l}),r.d(t,"autoEscaping",function(){return a});var i={e:function(e){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};var r=String(e);return/[&<>"'/]/.test(r)?r.replace(/[&<>"'/]/g,function(e){return n[e]}):r}},o={},u={start:"",end:""};function l(e){if("clear"===e)o={};else for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);!function(){for(var e in u={start:"",end:""},o)o.hasOwnProperty(e)&&o[e]&&(u.start+="Sqrl.F."+e+"(",u.end+=")")}()}function a(e){return f=!!e}var f=!0;function c(e,n){var r,t,i="",o="";if(n&&""!==n){r=n.split("|");for(var l=0;l<r.length;l++)r[l]=r[l].trim(),""!==r[l]&&("safe"!==r[l]?(i="Sqrl.F."+r[l]+"("+i,o+=")"):t=!0)}return i+=u.start,o+=u.end,!t&&f&&(i+="Sqrl.F.e(",o+=")"),i+e+o}var s=/{{ *?(?:(?:(?:(?:([a-zA-Z_$][\w]* *?(?:[^\s\w($][^\n]*)*?))|(?:@(?:([\w$]+:|(?:\.\.\/)+))? *(.+?) *))(?: *?(\| *?[\w$]+? *?)+?)?)|(?:([a-zA-Z_$][\w]*) *?\(([^\n]*)\) *?([\w]*))|(?:\/ *?([a-zA-Z_$][\w]*))|(?:# *?([a-zA-Z_$][\w]*))|(?:([a-zA-Z_$][\w]*) *?\(([^\n]*)\) *?\/)) *?}}/g,d={s:"{{",e:"}}"},v=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[\\]@(?:[\w$]*:)?[\w$]+|@(?:([\w$]*):)?([\w$]+)/g,p=s,h=d;function g(e){var n=e.slice(0,e.indexOf(",")).trim(),r=e.slice(e.indexOf(",")+1).trim(),t=n+p.source.slice(h.s.length,0-h.e.length)+r,i=p.lastIndex;h={s:n,e:r},(p=RegExp(t,"g")).lastIndex=i}function x(e){return e=e.replace(v,function(e,n,r){return void 0===r?e:(void 0===n&&(n=""),"hvals"+n+"."+r)})}var y={if:{helperStart:function(e){return"if("+e+"){"},helperEnd:function(){return"}"},blocks:{else:function(){return"}else{"}}},each:{helperStart:function(e,n){return"for(var i=0;i<"+e+".length; i++){tR+=(function(hvals){var tR='';var hvals"+n+"=hvals;"},helperEnd:function(e){return"return tR})({this:"+e+"[i],index:i})};"}},foreach:{helperStart:function(e,n){return"for(var key in "+e+"){if(!"+e+".hasOwnProperty(key)) continue;tR+=(function(hvals){var tR='';var hvals"+n+"=hvals;"},helperEnd:function(e){return"return tR})({this:"+e+"[key], key: key})};"}},log:{selfClosing:function(e){return"console.log("+e+");"}},tags:{selfClosing:function(e){return g(e),""}},js:{selfClosing:function(e){return e+";"}}},R={};var m=function(e){var n,r=0,t="",i=[],o=-1,u=0,l={};for(h=d,(p=s).lastIndex=0;null!==(n=p.exec(e));){if(""===t?t+="var tR='"+e.slice(r,n.index).replace(/'/g,"\\'")+"';":r!==n.index&&(t+="tR+='"+e.slice(r,n.index).replace(/'/g,"\\'")+"';"),r=n[0].length+n.index,n[1])t+="tR+="+F(n[1],n[4])+";";else if(n[3])t+="tR+="+$(n[3],n[2],n[4])+";";else if(n[5]){var a=n[7];""!==a&&null!==a||(a=u,u++);var f=y.hasOwnProperty(n[5]);o+=1;var v=n[6]||"";v=x(v),f||(v="["+v+"]");var g={name:n[5],id:a,params:v,native:f};i[o]=g,f?(t+=y[n[5]].helperStart(v,a),r=p.lastIndex):t+="tR+=Sqrl.H."+n[5]+"("+v+",function(hvals){var hvals"+a+"=hvals;"}else if(n[8]){var m=i[o];m&&m.name===n[8]?(o-=1,!0===m.native?t+=y[m.name].helperEnd(m.params,m.id):l[m.id]?t+="return tR}});":t+="return tR});"):console.error("Helper beginning & end don't match.")}else if(n[9]){var b=i[o];if(b.native){var w=y[b.name];w.blocks&&w.blocks[n[9]]?(t+=w.blocks[n[9]](b.id),r=p.lastIndex):console.warn("Native helper '%s' doesn't accept that block.",b.name)}else l[b.id]?t+="return tR},"+n[9]+":function(hvals){var hvals"+b.id+"=hvals;var tR='';":(t+="return tR},{"+n[9]+":function(hvals){var hvals"+b.id+"=hvals;var tR='';",l[b.id]=!0)}else if(n[10]){var S=n[11]||"";if(S=x(S),"include"===n[10]){var O=e.slice(0,n.index),_=e.slice(n.index+n[0].length),P=S.replace(/'|"/g,"");e=O+R[P]+_,r=p.lastIndex=n.index}else y.hasOwnProperty(n[10])&&y[n[10]].hasOwnProperty("selfClosing")?(t+=y[n[10]].selfClosing(S),r=p.lastIndex):t+="tR+=Sqrl.H."+n[10]+"("+S+");"}else console.error("Err 0");function F(e,n){return c("options."+e,n)}function $(e,n,r){return c(void 0!==n?"hvals"+(/(?:\.\.\/)+/g.test(n)?i[o-n.length/3-1].id:n.slice(0,-1))+"."+e:"hvals."+e,r)}}return""===t?t+="var tR='"+e.slice(r,e.length).replace(/'/g,"\\'")+"';":r!==e.length&&(t+="tR+='"+e.slice(r,e.length).replace(/'/g,"\\'")+"';"),t+="return tR",new Function("options","Sqrl",t.replace(/\n/g,"\\n").replace(/\r/g,"\\r"))},b={};function w(e,n){i[e]=n}function S(e,n){b[e]=n}function O(e,n){y[e]=n}function _(e,n){return"function"==typeof e?e(n,t):"string"==typeof e?m(e)(n,t):void 0}function P(e,n){R[e]=n}var F=function(e,n,r){fs.readFile(e,function(e,t){if(e)return r(e);var i=t.toString(),o=_(m(i),n);return r(null,o)})};r.d(n,"__express",function(){return F}),r.d(n,"H",function(){return b}),r.d(n,"Compile",function(){return m}),r.d(n,"defineFilter",function(){return w}),r.d(n,"defineHelper",function(){return S}),r.d(n,"defineNativeHelper",function(){return O}),r.d(n,"definePartial",function(){return P}),r.d(n,"Render",function(){return _}),r.d(n,"F",function(){return i}),r.d(n,"setDefaultFilters",function(){return l}),r.d(n,"autoEscaping",function(){return a})}])});
//# sourceMappingURL=squirrelly.min.js.map