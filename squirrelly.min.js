!function(e,r){"use strict";"function"==typeof define&&define.amd?define([],function(){return e.Sqrl=r()}):"object"==typeof module&&module.exports?module.exports=r(require("fs")):e.Sqrl=r()}("undefined"!=typeof self?self:this,function(r){var R={Compiler:{},Helpers:{Date:function(e,r,n,t){var l=new Date,a=l.getDate(),i=l.getMonth()+1;return a<10&&(a="0"+a),i<10&&(i="0"+i),l=i+"/"+a+"/"+l.getFullYear()}},Partials:{},Layouts:{},registerLayout:function(e,r){},defineHelper:function(e,r){R.Helpers[e]=r,R.H=R.Helpers},Render:function(e,r){return"function"==typeof e?e(r,R):"string"==typeof e?R.Precompile(e)(r,R):void 0},defaultFilters:{e:!1},autoEscape:function(e){R.defaultFilters.e=!!e},escMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},F:{d:function(e){return e},e:function(e){var r=String(e);return/[&<>"'`=\/]/.test(r)?r.replace(/[&<>"'`=\/]/g,function(e){return R.escMap[e]}):r}},defineFilter:function(e,r){R.F[e]=r,R.Filters=R.F}};return R.H=R.Helpers,R.P=R.Partials,R.F.escape=R.F.e,R.Filters=R.F,R.nativeHelpers={if:{helperStart:function(e,r){return"if("+e+"){"+(R.nativeHelpers.if.lastVar=r)+"+=("},helperEnd:function(){return"blockRes"===R.nativeHelpers.if.lastVar?")(hvals)}":")()}"},blocks:{else:function(){var e=R.nativeHelpers.if.lastVar;return"blockRes"===e?")(hvals)} else {"+e+"+=(":")()} else {"+e+"+=("}}},each:{helperStart:function(e,r){return"for(var i=0;i<"+(R.nativeHelpers.each.params=e)+".length; i++){"+r+"+=("},helperEnd:function(){return")({this:"+R.nativeHelpers.each.params+"[i],index:i})}"}},foreach:function(e,r,n,t,l,a){return"for (var key in "+e+") {if (!"+e+".hasOwnProperty(key)) continue;"+n+"+="+r.default+"({this: "+e+"[key], key: key})}"},log:function(e,r,n,t,l,a){return"console.log("+e+");"}},R.Precompile=function(e){for(var r,n,t=/{{ *?(?:(?:(?:(?:([a-zA-Z_$]+[\w]* *?(?:[^\s\w\($]+[^\n]*)*))|(?:@(?:([\w$]+:|(?:\.\.\/)+))? *(.+?) *))(?: *?(\| *?[^\n]+? *?)*?)?)|(?:([a-zA-Z_$]+[\w]*) *?\(([^\n]*)\) *?([A-Za-z$_]*[\w]*))|(?:\/ *?([a-zA-Z_$]+[\w]*))|(?:# *?([a-zA-Z_$]+[\w]*))|(?:([^]+?))) *?}}/g,l=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[\\]@(?:[\w$]*:)?[\w$]+|@(?:([\w$]*):)?([\w$]+)/g,a=0,i="",s=[],o=-1,c=0,u={};null!==(m=t.exec(e));){if(m.index===t.lastIndex&&regex.lastIndex++,varName=o<0?"tmpltRes":"blockRes",""===i?i+="var tmpltRes='"+e.slice(a,m.index).replace(/'/g,"\\'")+"';":a!==m.index&&(i+=varName+"+='"+e.slice(a,m.index).replace(/'/g,"\\'")+"';"),a=m[0].length+m.index,m[1])i+=varName+"+="+(r=m[1],n=m[4],F("options."+r,n))+";";else if(m[3])i+=varName+"+="+y(m[3],m[2],m[4])+";";else if(m[5]){var f=m[7];""!==f&&null!==f||(f=c,c++);var v=!1;console.log(JSON.stringify(R.nativeHelpers)),R.nativeHelpers.hasOwnProperty(m[5])&&(console.log("native"),v=!0),o+=1;var p={name:m[5],id:f,native:v},d=m[6]||"";if(d=d.replace(l,function(e,r,n){return void 0===n?e:(void 0===r&&(r=""),"helpervals"+r+"."+n)}),v||(d="["+d+"]"),s[o]=p,v)i+=R.nativeHelpers[m[5]].helperStart(d,varName,f)+"function(hvals){var hvals"+f+'=hvals;var blockRes="";';else i+=varName+"+=Sqrl.H."+m[5]+"("+d+",function(hvals){var hvals"+f+"=hvals;"}else if(m[8]){var h=s[o];h&&h.name===m[8]?(o-=1,!0===h.native?i+="return blockRes}"+R.nativeHelpers[h.name].helperEnd(varName,h.id):u[h.id]?i+="return blockRes}});":i+="return blockRes});"):console.error("Sorry, it doesn't appear that your closing helper tag matches your opening one.")}else if(m[9]){var g=s[o];if(g.native){var k=R.nativeHelpers[g.name];k.blocks&&k.blocks[m[9]]?i+="return blockRes}"+k.blocks[m[9]](varName,g.id)+"function(hvals){var hvals"+f+"=hvals;var blockRes='';":console.warn("Oops, looks like that native helper isn't configured to accept that block.")}else u[g.id]?i+="return blockRes},"+m[9]+":function(hvals){var hvals"+g.id+"=hvals;var blockRes='';":(i+="return blockRes}, {"+m[9]+":function(hvals){var hvals"+g.id+"=hvals;var blockRes='';",u[g.id]=!0)}else m[10]||console.error("Err: Code 000");function y(e,r,n){return F(void 0!==r?"hvals"+(/(?:\.\.\/)+/g.test(r)?s[o-r.length/3].id:r.slice(0,-1))+"."+e:"hvals."+e,n)}function F(e,r){var n;if(null!=r){n=r.split("|"),console.log("filtersArray: "+n);for(var t=0;t<n.length;t++)n[t]=n[t].trim(),""!==n[t]&&"unescape"!==n[t]&&"u"!==n[t]&&(!R.defaultFilters.e||"e"!==n[t]&&"escape"!==n[t])&&(e="Sqrl.F."+n[t]+"("+e+")")}for(key in R.defaultFilters)if(!0===R.defaultFilters[key]){if(void 0!==n&&(n.includes("u")||n.includes("unescape"))&&("e"===key||"escape"===key))continue;e="Sqrl.F."+key+"("+e+")"}return console.log("initialString: "+e),e}}return e.length>t.lastIndex&&(""===i?i+="var tmpltRes='"+e.slice(a,e.length).replace(/'/g,"\\'")+"';":a!==e.length&&(i+="tmpltRes+='"+e.slice(a,e.length).replace(/'/g,"\\'")+"';")),i+="return tmpltRes",new Function("options","Sqrl",i.replace(/\n/g,"\\n").replace(/\r/g,"\\r"))},null!=r&&(R.__express=function(e,a,i){r.readFile(e,function(e,r){if(e)return i(e);var n=r.toString(),t=R.Precompile(n),l=R.Render(t,a);return i(null,l)})}),R});